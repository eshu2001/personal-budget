<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Personal Budget</title>
  <meta name="description" content="A Free personal budger app">
  <meta name="keywords" content="app free budget finance">
  <link rel="stylesheet" href="reset.css">
  <link rel="stylesheet" href="main.css">
</head>
<body>

<a href="#main" class="skip">Skip to content</a>

<header>
  <nav aria-label="Main navigation">
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/about.html">About</a></li>
      <li><a href="/login.html">Login</a></li>
      <li><a href="https://google.com" target="_blank" rel="noopener">Google</a></li>
    </ul>
  </nav>

  <div class="hero" role="banner">
    <h1>Personal Budget</h1>
    <h2>A personal-budget management app</h2>
  </div>
</header>

<main class="center" id="main">
  <div class="page-area">

    <section>
      <h2>Stay on track</h2>
      <p>Do you know where you are spending your money? If you really stop to track it down,
                   you would get surprised! Proper budget management depends on real data... and this
                    app will help you with that!
                </p>
    </section>

    <section>
      <h2>Alerts</h2>
      <p>Get instant alerts when you’re about to go over budget. Stay informed and avoid overspending.</p>
    </section>

    <section>
      <h2>Results</h2>
      <p>People who track their expenses pay off debt faster and feel more confident in their spending decisions. This app helps you build financial peace of mind.</p>
    </section>

    <section>
      <h2>Free</h2>
      <p>This app is 100% free, and your data stays with you — no sharing, no hidden costs.</p>
    </section>

    <section>
      <h2>Budget Chart</h2>
      <canvas id="myChart" width="400" height="400" aria-label="Budget distribution pie chart" role="img"></canvas>
    </section>

  </div>
</main>

<footer class="bottom">
  <div class="center">
    <p>All rights reserved &copy; Eshita Duvvada</p>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.20.0/axios.min.js" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.11.0/axios.min.js" integrity="sha512-h9644v03pHqrIHThkvXhB2PJ8zf5E9IyVnrSfZg8Yj8k4RsO4zldcQc4Bi9iVLUCCsqNY0b4WXVV4UB+wbWENA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.5.0/chart.min.js" integrity="sha512-n/G+dROKbKL3GVngGWmWfwK0yPctjZQM752diVYnXZtD/48agpUKLIn0xDQL9ydZ91x6BiOmTIFwWjjFi2kEFg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
  var dataSource = {
    datasets: [{
      data: [],
      backgroundColor: ['#ffcd56','#ff6384','#36a2eb','#fd6b19']
    }],
    labels: []
  };

  function createChart() {
    var ctx = document.getElementById('myChart').getContext('2d');
    new Chart(ctx, { type: 'pie', data: dataSource });
  }

  function getBudget() {
    axios.get('http://localhost:3000/budget')
      .then(function (res) {
        res.data.myBudget.forEach((item, i) => {
          dataSource.datasets[0].data[i] = item.budget;
          dataSource.labels[i] = item.title;
        });
        createChart();
      });
  }
  getBudget();
</script>

</body>
</html>
